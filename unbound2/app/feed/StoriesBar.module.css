/* ================================
STORIES ROW
================================ */
.storiesRow {
display: flex;
gap: 14px;
padding: 14px 16px;
overflow-x: auto;
}

/* ================================
SHARED BASE (ALL BUBBLES)
================================ */
.storyBubble,
.addStory {
width: 62px;
height: 62px;
border-radius: 999px;
background: rgba(0, 0, 0, 0.35);
cursor: pointer;

display: inline-flex;
align-items: center;
justify-content: center;

position: relative;

/* Important: prevents “boxy glow” artifacts */
overflow: visible;
isolation: isolate;
transform: translateZ(0);
}

/* =========================================================
REAL STORY BUBBLES — SOLID GLOW RING (premium, not boxy)
We avoid huge box-shadows on a big pseudo-element because
that’s what reveals a rectangle. Instead:
- crisp ring
- radial gradient glow
- smaller, softer aura
========================================================= */
.storyBubble::after {
content: "";
position: absolute;
inset: -1px; /* tighter = less chance you see bounds */
border-radius: 999px;
pointer-events: none;
z-index: 0;

/* Crisp ring */
border: 2px solid rgba(168, 85, 247, 0.45);

/* Glow “body” (this reads like the Message button pop) */
background: radial-gradient(
closest-side,
rgba(217, 70, 239, 0.22),
rgba(168, 85, 247, 0.16) 55%,
rgba(0, 0, 0, 0) 72%
);

/* Smaller aura so it doesn’t show a rectangle */
box-shadow:
0 0 0 1px rgba(168, 85, 247, 0.20),
0 8px 20px rgba(168, 85, 247, 0.32);

opacity: 0.9;
animation: storyPulse 1.7s ease-in-out infinite;
}

/* ================================
CREATE STORY (+)
DOTTED RING ONLY — synced pulse
================================ */
.addStory {
border: 2px dotted rgba(180, 120, 255, 0.85);
/* keep base subtle; pulse lives in ::after */
box-shadow: 0 0 10px rgba(180, 120, 255, 0.20);
}

.addStory span {
font-size: 26px;
font-weight: 800;
color: rgba(220, 190, 255, 0.95);
position: relative;
z-index: 1;
}

/* Dotted ring glow (synced with stories) */
.addStory::after {
content: "";
position: absolute;
inset: -1px; /* was -6px (too big; causes mismatch + boxiness) */
border-radius: 999px;
pointer-events: none;
z-index: 0;

border: 2px dotted rgba(180, 120, 255, 0.75);

/* Same glow strategy: gradient + smaller aura */
background: radial-gradient(
closest-side,
rgba(217, 70, 239, 0.16),
rgba(168, 85, 247, 0.12) 55%,
rgba(0, 0, 0, 0) 72%
);

box-shadow:
0 0 0 1px rgba(168, 85, 247, 0.16),
0 8px 20px rgba(168, 85, 247, 0.26);

opacity: 0.75;
animation: storyPulse 1.6s ease-in-out infinite;
}

/* ================================
AVATAR / FALLBACK
================================ */
.storyAvatar {
width: 100%;
height: 100%;
object-fit: cover;
border-radius: 999px;
position: relative;
z-index: 1;
}

.storyFallback {
width: 100%;
height: 100%;
border-radius: 999px;

display: flex;
align-items: center;
justify-content: center;

font-weight: 800;
font-size: 20px;
color: rgba(235, 235, 255, 0.95);
background: rgba(0, 0, 0, 0.45);

position: relative;
z-index: 1;
}

/* ================================
HOVER (keep tasteful)
================================ */
.storyBubble:hover,
.addStory:hover {
transform: translateY(-1px);
}

.storyBubble:hover::after,
.addStory:hover::after {
/* Slightly hotter on hover */
opacity: 1;
filter: brightness(1.05);
}

/* ================================
PULSE ANIMATION (pop, but not boxy)
The key is: don’t expand to 40-50px glows here.
Keep the aura under control, let gradient do the “volume.”
================================ */
@keyframes storyPulse {
0% {
opacity: 0.70;
transform: scale(1);
box-shadow:
0 0 0 1px rgba(168, 85, 247, 0.18),
0 7px 18px rgba(168, 85, 247, 0.24);
}

50% {
opacity: 1;
transform: scale(1.03);
box-shadow:
0 0 0 1px rgba(168, 85, 247, 0.26),
0 10px 24px rgba(217, 70, 239, 0.38);
}

100% {
opacity: 0.70;
transform: scale(1);
box-shadow:
0 0 0 1px rgba(168, 85, 247, 0.18),
0 7px 18px rgba(168, 85, 247, 0.24);
}
}

/* Optional: respect reduced motion */
@media (prefers-reduced-motion: reduce) {
.storyBubble::after,
.addStory::after {
animation: none;
}
}

/* ================================
MODAL (SAFE TO KEEP)
================================ */
.modalBackdrop {
position: fixed;
inset: 0;
background: rgba(0, 0, 0, 0.65);
display: flex;
align-items: center;
justify-content: center;
z-index: 50;
}

.modalCard {
width: 360px;
border-radius: 14px;
background: rgba(10, 10, 10, 0.9);
border: 1px solid rgba(180, 120, 255, 0.25);
box-shadow: 0 0 30px rgba(180, 120, 255, 0.25);
padding: 16px;
}

.modalHeader {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 12px;
}

.closeBtn {
background: none;
border: none;
color: white;
font-size: 20px;
cursor: pointer;
}

.uploadBtn {
margin-top: 12px;
width: 100%;
padding: 10px;
border-radius: 10px;
border: 1px solid rgba(180, 120, 255, 0.4);
background: rgba(180, 120, 255, 0.15);
color: white;
cursor: pointer;
}